# Getting Time Machine to work on an Unsupported NAS

# Set Time Machine to use unsupported drives. 
# execute the following command in terminal (NOTE: you must logout and log back in for this to take affect)
defaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1

# create sparsebundle file
hdiutil create -library GPTSPUD -size 400g -fs HFS+J -type SPARSEBUNDLE -volname "Backup of <YOURCOMPUTERNAME>" <YOURCOMPUTERNAME>_<EN0MACADDRESS>.sparsebundle
# IMPORTANT: change GPTSPUD to SPUD for ppc, change -size value based on what you would like for your max size of your TM sparsebundle to take up, replaceing YOURCOMPUTERNAME with... your computer name found in System Preferences -> Sharing, replace <EN0MACADDRESS> with the MAC Address of en0 found in Preferences -> Networking.. select Ethernet to the left and click on advanced to find this number, write this down and remove all :   Don't worry it will still work wirelessly over ABS, just need the en0 mac address (don't ask me, but does work and works well for your initial large backup and then great for wireless subsequent backups)
Example:
hdiutil create -library GPTSPUD -size 400g -fs HFS+J -type SPARSEBUNDLE -volname "Backup of MyCompuer" MyCompuer_0015bb005ab9.sparsebundle


# create a user on your NAS,I used tmbackup, set up a shared folder, named mine TMBackup, set permissions, on folder, I set +rw for user tmbackup only
# connect to volume
cifs://tmbackup@elysium.local
# connect to TMBackup folder (enter password)
# copy local copy of the created sparsebundle to TMBackup
# select volume in Time Machine preferences and there you go

# PS I cheated and set the shared folder to all access but will start removing permissions till it breaks but was assured that the setup above will work.

# Good Luck and hope all goes well, and may I say, I love my new WD World 1 NAS 1B Network Drive, very hackable (has a hacker community), looks neat, and realty... looks is what it is all about ;).... but seriously they even opened the linux distrol used in the dive... yes EVERYONE should do this but they actually did\, kudos to WD.